<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ç°å®ç‰ˆæ°´é¡µå¢å¼ºç‰ˆ</title>
<style>
html,body{margin:0;padding:0;width:100%;height:100%;overflow:hidden;font-family:"Microsoft YaHei",sans-serif;}
body{
  background:url('https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExYzdwYXd1dGcxbHloc3UwYjM3a2lpdnVhbHA5bnJrNWVpenc5dmltMiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/FUESbiqyQcJBcwFefb/giphy.gif') center/cover no-repeat fixed;
  position:relative;
}
.overlay{position:absolute;inset:0;background:rgba(0,0,0,0.4);z-index:0;}
#content{position:relative;z-index:1;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;color:white;padding:20px;}
h1{font-size:3em;margin-bottom:20px;text-shadow:2px 2px 8px rgba(0,0,0,0.7);}
.line{margin:10px 0;font-size:1.5em;text-shadow:1px 1px 4px rgba(0,0,0,0.7);}
#pageNumber{margin-top:10px;font-size:1em;color:#ccc;}
#controls{position:absolute;top:10px;display:flex;gap:8px;flex-wrap:wrap;justify-content:center;z-index:2;}
button{padding:8px 16px;font-weight:bold;font-size:1em;border:none;border-radius:8px;cursor:pointer;}
#playBtn{background:green;color:white;}
#stopBtn{background:red;color:white;}
#stopBtn.paused{background:blue;}
#increase,#decrease,#addPage,#addBook,#viewBook,#changeBg{background:#fff;color:#0b6fc2;}
#bookList{position:absolute;bottom:10px;right:10px;display:flex;gap:8px;flex-wrap:wrap;z-index:2;}
.bookIcon{width:50px;height:50px;object-fit:cover;border-radius:6px;cursor:pointer;border:2px solid white;}
/* å¼¹çª—è¡¨å• */
#formOverlay{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.7);display:none;align-items:center;justify-content:center;z-index:3;}
.formBox{background:#fff;padding:20px;border-radius:12px;min-width:300px;color:black;display:flex;flex-direction:column;gap:10px;}
.formBox input, .formBox textarea{width:100%;padding:6px;font-size:1em;border-radius:4px;border:1px solid #ccc;}
.formBox button{background:#0b6fc2;color:white;padding:8px;border:none;border-radius:6px;cursor:pointer;font-weight:bold;}
/* å®‡å®™æ˜Ÿæ˜Ÿå’Œé›ª */
#stars, #snow{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:0;}
.star{position:absolute;background:white;border-radius:50%;opacity:0.8;}
.snowflake{position:absolute;color:white;font-size:1em;user-select:none;}
</style>
</head>
<body>    
<div class="overlay"></div>
<div id="controls">
  <button id="playBtn">Play</button>
  <button id="stopBtn">Stop</button>
  <button id="increase">A+</button>
  <button id="decrease">A-</button>
  <button id="addPage">æ·»åŠ é¡µé¢</button>
  <button id="addBook">æ·»åŠ ä¹¦ç±</button>
  <button id="viewBook">æŸ¥çœ‹ä¹¦ç±</button>
  <button id="changeBg">åˆ‡æ¢èƒŒæ™¯</button>
  <button id="logout-btn">æ³¨é”€</button>
</div>

<div id="content">
  <h1 id="title"></h1>
  <div id="lines"></div>
  <div id="pageNumber"></div>
</div>

<!-- å»æ‰ç®­å¤´å¯¼èˆª -->

<div id="bookList"></div>

<canvas id="stars"></canvas>
<canvas id="snow"></canvas>

<!-- å¼¹çª—è¡¨å• -->
<div id="formOverlay">
  <div class="formBox" id="formBox">
    <div id="formTitle"></div>
    <input type="text" id="formInput1" placeholder="">
    <input type="text" id="formInput2" placeholder="">
    <input type="text" id="formInput3" placeholder="">
    <textarea id="formTextarea" placeholder="" style="display:none;"></textarea>
    <button id="formSubmit">æäº¤</button>
    <button id="formCancel">å–æ¶ˆ</button>
  </div>
</div>

<script>
// ---------- é¡µé¢ä¸ä¹¦ç±æ•°æ® ----------
let pages = [
  {title:"ç¤¾ä¼šå¤„äº‹",
    lines:[
      "åœ¨ç¤¾ä¼šæ··ï¼Œæœ€å€¼é’±çš„ä¸æ˜¯é’±ï¼Œè€Œæ˜¯ä¿¡ç”¨ã€‚",
      "ç»™äººç•™å°é˜¶ï¼Œå°±æ˜¯ç»™è‡ªå·±ç•™åè·¯ã€‚",
      "åœˆå­å†å¤§ï¼Œä¸çœŸè¯šä¹Ÿç™½æ­ã€‚",
      "ç¢°åˆ°éº»çƒ¦ï¼Œå…ˆæ²‰ä½æ°”ï¼Œä¸è¦ä¹±è¯´è¯ã€‚",
      "äººè„‰ä¸æ˜¯è®¤è¯†å¤šå°‘äººï¼Œè€Œæ˜¯è°æ„¿æ„å¸®ä½ ã€‚"
    ],
    deletable:false
  },
  {
    title:"ä¸ºäººå¤„äº‹",
    lines:[
      "ä¼šåšäººï¼Œæ¯”ä¼šåšäº‹æ›´é‡è¦ã€‚",
      "åƒä¸‡åˆ«è´ªå°ä¾¿å®œï¼Œæœ€ååƒå¤§äºçš„è¿˜æ˜¯è‡ªå·±ã€‚",
      "äººå‰è¯´ä¸€å¥ï¼ŒèƒŒååˆ«æ·»ä¸€å¥ã€‚",
      "æ©æƒ…è¦è®°å¿ƒé‡Œï¼ŒçŸ›ç›¾è¦æ”¾èº«åã€‚",
      "å°äº‹æƒ…èƒ½çœ‹å‡ºä¸€ä¸ªäººçš„çœŸé¢ç›®ã€‚"
    ],
    deletable:false
  },
  {
    title:"å¤«å¦»ç›¸å¤„",
    lines:[
      "å©šå§»ä¸æ˜¯æ¯”è°å‰å®³ï¼Œè€Œæ˜¯ä¸€èµ·è¿‡æ—¥å­ã€‚",
      "åµæ¶åˆ«è¿‡å¤œï¼Œå†·æˆ˜æœ€ä¼¤æ„Ÿæƒ…ã€‚",
      "ç«™åœ¨å¯¹æ–¹è§’åº¦æƒ³æƒ³ï¼Œæœ‰äº›ç«æ°”å°±ä¸‹å»äº†ã€‚",
      "å¤¸ä¸€å¥ï¼Œæ¯”éª‚åå¥æ›´ç®¡ç”¨ã€‚",
      "è‹¦æ—¥å­èƒ½ä¸€èµ·ç†¬ï¼Œç”œæ—¥å­æ‰ç¨³å¾—ä½ã€‚"
    ],
    deletable:false
  },
  {
    title:"å®¶åº­å’Œç¦",
    lines:[
      "å®¶é‡Œä¸æ˜¯è®²è¾“èµ¢çš„åœ°æ–¹ï¼Œæ˜¯è®²æ¸©æš–çš„åœ°æ–¹ã€‚",
      "ä¸€å®¶äººå¤šè¯´ä¸€å¥è°¢è°¢ï¼Œæ°”æ°›å°±ä¸ä¸€æ ·ã€‚",
      "å®¶åŠ¡ä¸æ˜¯è°çš„äº‹ï¼Œè°æœ‰ç©ºè°åšã€‚",
      "è¿›å®¶é—¨ï¼Œå…ˆæ”¾ä¸‹æƒ…ç»ªå†å¼€å£ã€‚",
      "å®¶é‡Œå’Œæ°”ï¼Œèµ°å‡ºå»æ‰æœ‰åº•æ°”ã€‚"
    ],
    deletable:false
  },
  {
    title:"æ•™è‚²å­©å­",
    lines:[
      "å­©å­å­¦ä½ æ€ä¹ˆåšï¼Œä¸å¬ä½ æ€ä¹ˆè¯´ã€‚",
      "å…ˆæ•™åšäººï¼Œå†æ•™è¯»ä¹¦ã€‚",
      "å¤ªé¡ºçš„å­©å­ï¼Œé•¿å¤§å®¹æ˜“åƒå¤§äºã€‚",
      "è¦å­©å­æ‡‚ä»˜å‡ºï¼Œè€Œä¸æ˜¯åªä¼šè¦ä¸œè¥¿ã€‚",
      "é¼“åŠ±ä¸€å¥ï¼Œé¡¶å¾—è¿‡æ‰“å‡»åå¥ã€‚"
    ],
    deletable:false
  },
  {
    title:"éµå®ˆå®¶è§„",
    lines:[
      "å®¶æ²¡è§„çŸ©ï¼Œå†æœ‰é’±ä¹Ÿç•™ä¸ä½ã€‚",
      "è§„çŸ©ä¸æ˜¯æŸç¼šï¼Œæ˜¯åº•çº¿ã€‚",
      "é•¿è¾ˆç«‹è§„çŸ©ï¼Œæ™šè¾ˆå®ˆè§„çŸ©ï¼Œå®¶æ‰å®‰ç¨³ã€‚",
      "è§„çŸ©è®²æ¸…æ¥šï¼Œå­©å­æ‰çŸ¥é“æ–¹å‘ã€‚",
      "å®¶é‡Œå®ˆè§„çŸ©ï¼Œå‡ºå»æ‰ä¸ä¼šä¸¢äººã€‚"
    ],
    deletable:false
  },
  {
    title:"å­é¡ºçˆ¶æ¯",
    lines:[
      "çˆ¶æ¯åœ¨ï¼Œå®¶å°±åœ¨ã€‚",
      "å­é¡ºä¸æ˜¯ä»¥åï¼Œæ˜¯ç°åœ¨ã€‚",
      "å¸¸å›å®¶åƒé¥­ï¼Œæ¯”è½¬è´¦æ›´æš–å¿ƒã€‚",
      "çˆ¶æ¯çš„å” å¨ï¼Œæ˜¯æœ€ä¾¿å®œçš„å…³å¿ƒã€‚",
      "é™ªä¼´æ‰æ˜¯çœŸå­é¡ºï¼Œä¸æ˜¯å…‰ç»™é’±ã€‚"
    ],
    deletable:false
  },
  {
    title:"é‚»é‡Œå…³ç³»",
    lines:[
      "è¿œäº²ä¸å¦‚è¿‘é‚»ï¼ŒæŠ¬å¤´ä¸è§ä½å¤´è§ã€‚",
      "æ‰“ä¸ªæ‹›å‘¼ï¼Œèƒ½åŒ–è§£ä¸€åŠå°´å°¬ã€‚",
      "åˆ«è´ªé‚»å±…å°ä¾¿å®œï¼Œè¿Ÿæ—©åäº†å…³ç³»ã€‚",
      "å€Ÿç‚¹å°å¿™ï¼Œå°†æ¥è‡ªå·±ä¹Ÿèƒ½å°‘éº»çƒ¦ã€‚",
      "ä¸æ¬å¼„æ˜¯éï¼Œæ˜¯æœ€å¥½çš„é‚»é‡Œä¿®å…»ã€‚"
    ],
    deletable:false
  },
  {
    title:"æœ‹å‹äº¤å¾€",
    lines:[
      "çœŸæœ‹å‹ï¼Œä¸æ˜¯å–é…’æ—¶é™ªä½ ï¼Œè€Œæ˜¯æœ‰äº‹æ—¶å¸®ä½ ã€‚",
      "æ‚£éš¾è§çœŸå¿ƒï¼Œé¡ºå¢ƒçœ‹çƒ­é—¹ã€‚",
      "æœ‹å‹ä¹‹é—´ï¼Œå®ˆä¿¡ç”¨æœ€é‡è¦ã€‚",
      "æ‹¿åˆ«äººçŸ­å¤„å¼€ç©ç¬‘ï¼Œè¿Ÿæ—©æ•£ä¼™ã€‚",
      "è·Ÿé è°±çš„äººåœ¨ä¸€èµ·ï¼Œè‡ªå·±ä¹Ÿä¼šå˜é è°±ã€‚"
    ],
    deletable:false
  },
  {
    title:"è‡ªæˆ‘ä¿®å…»",
    lines:[
      "å¿ƒæ€æ”¾å¹³ï¼Œæ—¥å­æ‰é¡ºã€‚",
      "è¯´è¯è¦æœ‰åˆ†å¯¸ï¼Œåˆ«å£æ— é®æ‹¦ã€‚",
      "èƒ½å¿ä¸€æ—¶ä¹‹æ°”ï¼Œå°±èƒ½å°‘åå¹´çƒ¦æ¼ã€‚",
      "ä¾èµ–è°ï¼Œéƒ½ä¸å¦‚é è‡ªå·±ã€‚",
      "æ¯å¤©åçœä¸€ç‚¹ï¼Œæ—¥å­å°±è¿›æ­¥ä¸€ç‚¹ã€‚"
    ],
    deletable:false
  },
  {
    title: "é¡¶å±‚äººç‰©å¸¸ç”¨çš„10å¤§æŸç¼šè¯­è¨€ï¼ˆé€æ˜æ­ç¤ºç‰ˆï¼‰",
    lines: [
      "1. â€œåªè¦åŠªåŠ›ï¼Œå°±èƒ½æˆåŠŸâ€",
      "2. â€œè¦å¿ è¯šï¼Œä¸è¦è®¡è¾ƒâ€",
      "3. â€œä¸ºäº†å¤§å®¶å¥½ï¼Œä½ è¦ç‰ºç‰²â€",
      "4. â€œå¬è¯ï¼Œæœºä¼šå°±ç»™ä½ â€",
      "5. â€œé’±ä¸æ˜¯æœ€é‡è¦çš„â€",
      "6. â€œå¿ä¸€å¿å°±è¿‡å»äº†â€",
      "7. â€œä½ ä»¬è¦å›¢ç»“â€",
      "8. â€œæœªæ¥ä¼šæ›´å¥½â€",
      "9. â€œè¿™æ˜¯è§„çŸ©ï¼Œåˆ«é—®ä¸ºä»€ä¹ˆâ€",
      "10. â€œè¦çŸ¥è¶³ï¼Œåˆ«è´ªå¿ƒâ€"
    ],
    deletable: false
  },
  {
    title: "1. â€œåªè¦åŠªåŠ›ï¼Œå°±èƒ½æˆåŠŸâ€",
    lines: [
      "å®è´¨ï¼š",
      " æŠŠâ€œç¤¾ä¼šä¸å¹³ç­‰â€è½¬ç§»æˆâ€œä¸ªäººä¸å¤ŸåŠªåŠ›â€ï¼Œæ©ç›–é˜¶å±‚å£å’ã€‚",
      "çœŸç›¸ï¼š",
      " èµ„æºã€èƒŒæ™¯ã€äººè„‰è¿œæ¯”å•çº¯åŠªåŠ›æ›´å†³å®šæˆè´¥ã€‚",
      "è·¨è¶Šï¼š",
      " åŠªåŠ›å¿…é¡»å’Œé€‰æ‹©èµ›é“ã€èµ„æœ¬èµ„æºç»“åˆï¼Œå¦åˆ™åªæ˜¯åŸåœ°è·‘ã€‚"
    ],
    deletable: false
  },
  {
    title: "2. â€œè¦å¿ è¯šï¼Œä¸è¦è®¡è¾ƒâ€",
    lines: [
      "å®è´¨ï¼š",
      " ç”¨â€œå¿ è¯šâ€æ©ç›–ä¸å…¬ï¼Œè¦æ±‚ä¸‹å±‚æ— æ¡ä»¶ä»˜å‡ºã€‚",
      "çœŸç›¸ï¼š",
      " å¿ è¯šé€šå¸¸æ˜¯å•å‘çš„ï¼Œå°‘æ•°äººäº«å—æˆæœï¼Œå¤šæ•°äººæ¶ˆè€—ç”Ÿå‘½ã€‚",
      "è·¨è¶Šï¼š",
      " åœ¨ä»»ä½•å…³ç³»ä¸­ï¼Œå­¦ä¼šä¿æŠ¤åº•çº¿ï¼Œä¸åšè¢«æ¦¨å¹²çš„èºä¸é’‰ã€‚"
    ],
    deletable: false
  },
  {
    title: "3. â€œä¸ºäº†å¤§å®¶å¥½ï¼Œä½ è¦ç‰ºç‰²â€",
    lines: [
      "å®è´¨ï¼š",
      " ç”¨â€œé›†ä½“â€åšå¹Œå­ï¼Œè¿«ä½¿ä¸ªäººç‰ºç‰²ï¼Œæœ€ç»ˆå—ç›Šçš„å´æ˜¯å°‘æ•°äººã€‚",
      "çœŸç›¸ï¼š",
      " æ‰€è°“â€œå¤§å®¶â€ï¼Œå¾€å¾€æ˜¯â€œä¸Šé¢çš„äººâ€ã€‚",
      "è·¨è¶Šï¼š",
      " ç‰ºç‰²å‰å…ˆé—®æ¸…ï¼šåˆ©ç›Šåˆ†é…æ˜¯å¦é€æ˜ï¼Ÿç‰ºç‰²æ˜¯å¦å€¼å¾—ï¼Ÿ"
    ],
    deletable: false
  },
  {
    title: "4. â€œå¬è¯ï¼Œæœºä¼šå°±ç»™ä½ â€",
    lines: [
      "å®è´¨ï¼š",
      " åˆ¶é€ â€œæœºä¼šç¨€ç¼ºâ€çš„å¹»è§‰ï¼Œè®©äººç”¨é¡ºä»æ¢æœªæ¥ã€‚",
      "çœŸç›¸ï¼š",
      " æœºä¼šä¸æ˜¯æ©èµï¼Œè€Œæ˜¯äº¤æ˜“ã€‚",
      "è·¨è¶Šï¼š",
      " é å®åŠ›ä¸»åŠ¨åˆ›é€ æœºä¼šï¼Œä¸åšç­‰å¾…è¢«é€‰ä¸­çš„äººã€‚"
    ],
    deletable: false
  },
  {
    title: "5. â€œé’±ä¸æ˜¯æœ€é‡è¦çš„â€",
    lines: [
      "å®è´¨ï¼š",
      " åŠè¯´åº•å±‚æ»¡è¶³ç°çŠ¶ï¼Œå¥½å‹ä½æŠ¥é…¬ã€‚",
      "çœŸç›¸ï¼š",
      " è¯´è¿™å¥è¯çš„äººï¼Œæ—©å·²åæ‹¥è´¢å¯Œã€‚",
      "è·¨è¶Šï¼š",
      " é‡‘é’±æ˜¯ç”Ÿå­˜çš„åŸºç¡€ï¼Œè¦æ•¢äºäº‰å–å±äºè‡ªå·±çš„ä»·å€¼ã€‚"
    ],
    deletable: false
  },
  {
    title: "6. â€œå¿ä¸€å¿å°±è¿‡å»äº†â€",
    lines: [
      "å®è´¨ï¼š",
      " åŸ¹å…»â€œé¡ºæ°‘â€ï¼Œè®©äººä¹ æƒ¯å±ˆæœï¼Œä¸æ•¢åæŠ—ã€‚",
      "çœŸç›¸ï¼š",
      " å¿ä¸€æ¬¡ï¼Œå°±ä¼šæœ‰ç¬¬äºŒæ¬¡ã€ç¬¬ä¸‰æ¬¡ã€‚",
      "è·¨è¶Šï¼š",
      " è¯¥å¿å°±å¿ï¼Œä½†å…³é”®æ—¶åˆ»è¦æ•¢äºæ‹’ç»å’Œå¯¹æŠ—ã€‚"
    ],
    deletable: false
  },
  {
    title: "7. â€œä½ ä»¬è¦å›¢ç»“â€",
    lines: [
      "å®è´¨ï¼š",
      " ç”¨å›¢ç»“çš„åä¹‰ï¼Œè®©åº•å±‚äº’ç›¸çº¦æŸï¼Œå´åªä¸ºä¸Šå±‚åˆ©ç›ŠæœåŠ¡ã€‚",
      "çœŸç›¸ï¼š",
      " æ‰€è°“å›¢ç»“ï¼Œå¸¸å¸¸æ˜¯â€œè®©ä½ ä»¬å¬è¯â€ã€‚",
      "è·¨è¶Šï¼š",
      " çœŸæ­£çš„å›¢ç»“æ˜¯åŸºäºå…±åŒåˆ©ç›Šï¼Œè€Œä¸æ˜¯è¢«åŠ¨æœä»ã€‚"
    ],
    deletable: false
  },
  {
    title: "8. â€œæœªæ¥ä¼šæ›´å¥½â€",
    lines: [
      "å®è´¨ï¼š",
      " åˆ¶é€ ç©ºå¤´æ‰¿è¯ºï¼Œè®©äººç»§ç»­å¿å—ç°å®ã€‚",
      "çœŸç›¸ï¼š",
      " æœªæ¥åªæ˜¯ç­¹ç ï¼Œç”¨æ¥æ‹–å»¶ä½ çš„åæŠ—ã€‚",
      "è·¨è¶Šï¼š",
      " ä¸ä¾èµ–å£å¤´æ‰¿è¯ºï¼ŒæŠŠæ¡å½“ä¸‹çš„ä¸»åŠ¨æƒã€‚"
    ],
    deletable: false
  },
  {
    title: "9. â€œè¿™æ˜¯è§„çŸ©ï¼Œåˆ«é—®ä¸ºä»€ä¹ˆâ€",
    lines: [
      "å®è´¨ï¼š",
      " ä»¥è§„çŸ©å‹åˆ¶è´¨ç–‘ï¼Œè®©è§„åˆ™æ°¸è¿œå‘æƒåŠ›å€¾æ–œã€‚",
      "çœŸç›¸ï¼š",
      " è§„åˆ™ä»æ¥ä¸æ˜¯å…¬å¹³çš„ï¼Œè€Œæ˜¯åˆ©ç›Šè€…å†™ä¸‹çš„æŠ¤åŸæ²³ã€‚",
      "è·¨è¶Šï¼š",
      " ç†è§£è§„åˆ™èƒŒåçš„åˆ©ç›Šï¼Œå­¦ä¼šè¿ç”¨è§„åˆ™ï¼Œè€Œä¸æ˜¯ç›²ä»ã€‚"
    ],
    deletable: false
  },
  {
    title: "10. â€œè¦çŸ¥è¶³ï¼Œåˆ«è´ªå¿ƒâ€",
    lines: [
      "å®è´¨ï¼š",
      " éº»ç—¹åº•å±‚ï¼Œè®©ä»–ä»¬æ¥å—ä¸å…¬ï¼Œä¸å»äº‰å–ã€‚",
      "çœŸç›¸ï¼š",
      " è®©ä½ çŸ¥è¶³çš„äººï¼Œæ°¸è¿œä¸ä¼šçŸ¥è¶³ã€‚",
      "è·¨è¶Šï¼š",
      " çŸ¥è¶³æ˜¯å¿ƒæ€ï¼Œè¿½æ±‚æ›´å¥½æ˜¯æƒåˆ©ï¼Œä¸¤è€…ä¸èƒ½æ··æ·†ã€‚"
    ],
    deletable: false
  },
  {
    title: "æ€»ç»“",
    lines: [
      "é¡¶å±‚äººç‰©å¸¸ç”¨çš„â€œæŸç¼šè¯­è¨€â€éƒ½æœ‰ä¸‰ä¸ªå…±æ€§ï¼š",
      "",
      "æŠŠç³»ç»Ÿæ€§ä¸å…¬å˜æˆä¸ªäººé—®é¢˜ï¼ˆä¾‹å¦‚ï¼šåŠªåŠ›/å¿è€/çŸ¥è¶³ï¼‰ã€‚",
      "æŠŠæœä»åŒ…è£…æˆç¾å¾·ï¼ˆä¾‹å¦‚ï¼šå¿ è¯š/ç‰ºç‰²/å›¢ç»“ï¼‰ã€‚",
      "ç”¨æœªæ¥æ‰¿è¯ºæ©ç›–ç°å®å‰¥å¤ºï¼ˆä¾‹å¦‚ï¼šæœºä¼š/æœªæ¥ä¼šæ›´å¥½ï¼‰ã€‚"
    ],
    deletable: false
  },
  {
    title: "è·¨è¶Šçš„å…³é”®",
    lines: [
      "è¯†åˆ«è¯­è¨€èƒŒåçš„çœŸå®åˆ©ç›Šã€‚",
      "æ‹¥æœ‰è‡ªå·±çš„ä»·å€¼åº•çº¿ã€‚",
      "ä¸é â€œæ–½èˆâ€ï¼Œé è‡ªèº«å®åŠ›å’Œåˆä½œåˆ›é€ ä¸»åŠ¨æƒã€‚"
    ],
    deletable: false
  },
  {
  title: "ğŸ”¥ äººæ€§çš„å‚²æ…¢ä¸æç«¯ Â· åé¢˜",
  lines: [
    "1. æƒåŠ›çš„å‚²æ…¢",
    "2. è´¢å¯Œçš„å‚²æ…¢",
    "3. çŸ¥è¯†çš„å‚²æ…¢",
    "4. é“å¾·çš„å‚²æ…¢",
    "5. ç»éªŒçš„å‚²æ…¢",
    "6. åœ°ä½çš„å‚²æ…¢",
    "7. å­¤ç«‹çš„æç«¯",
    "8. ç›²ä»çš„æç«¯",
    "9. è´ªæ¬²çš„æç«¯",
    "10. å¦å®šçš„æç«¯"
  ],
  deletable: false
},
{
  title: "1. æƒåŠ›çš„å‚²æ…¢",
  lines: [
    "å½“äººä¸€æ—¦æŒæ¡æƒåŠ›",
    "å°±å®¹æ˜“æŠŠè§„åˆ™çœ‹ä½œè‡ªå·±çš„å·¥å…·",
    "è€Œä¸æ˜¯çº¦æŸã€‚"
  ],
  deletable: false
},
{
  title: "2. è´¢å¯Œçš„å‚²æ…¢",
  lines: [
    "æœ‰äº†é’±çš„äºº",
    "å¾€å¾€è¯¯ä»¥ä¸ºä¸€åˆ‡éƒ½èƒ½ç”¨é’±è¡¡é‡",
    "ç”šè‡³åŒ…æ‹¬äººå¿ƒã€‚"
  ],
  deletable: false
},
{
  title: "3. çŸ¥è¯†çš„å‚²æ…¢",
  lines: [
    "è¯»ä¹¦å¤šçš„äººå¸¸é™·å…¥",
    "è‡ªä»¥ä¸ºèªæ˜ï¼Œ",
    "è½»è§†é‚£äº›æ²‰é»˜å´æ·±åˆ»çš„æ™ºæ…§ã€‚"
  ],
  deletable: false
},
{
  title: "4. é“å¾·çš„å‚²æ…¢",
  lines: [
    "æœ€å±é™©çš„ä¸æ˜¯æ¶äºº",
    "è€Œæ˜¯è‡ªè®¤ä¸ºâ€œç»å¯¹æ­£ç¡®â€çš„å¥½äººã€‚"
  ],
  deletable: false
},
{
  title: "5. ç»éªŒçš„å‚²æ…¢",
  lines: [
    "è€æ‰‹å¸¸å¸¸è½»è§†æ–°æ‰‹",
    "å´å¿˜äº†ä¸–ç•Œéšæ—¶åœ¨å˜ã€‚"
  ],
  deletable: false
},
{
  title: "6. åœ°ä½çš„å‚²æ…¢",
  lines: [
    "äººåœ¨ä¸Šä½å°±å®¹æ˜“æŠŠ",
    "â€œå°Šé‡â€å½“æˆç†æ‰€å½“ç„¶",
    "è€Œä¸æ˜¯ç›¸äº’çš„ã€‚"
  ],
  deletable: false
},
{
  title: "7. å­¤ç«‹çš„æç«¯",
  lines: [
    "æœ‰äººé€‰æ‹©å½»åº•ä¸ä¿¡ä»»ä»»ä½•äºº",
    "ä»¥ä¸ºå†·æ¼ èƒ½ä¿æŠ¤è‡ªå·±",
    "ç»“æœåªå‰©å­¤ç‹¬ã€‚"
  ],
  deletable: false
},
{
  title: "8. ç›²ä»çš„æç«¯",
  lines: [
    "æœ‰äººä¸ºäº†å½’å±æ„Ÿ",
    "æ”¾å¼ƒç‹¬ç«‹æ€è€ƒ",
    "å˜æˆç¾¤ä½“çš„å½±å­ã€‚"
  ],
  deletable: false
},
{
  title: "9. è´ªæ¬²çš„æç«¯",
  lines: [
    "æ¬²æœ›ä¸€æ—¦å¤±æ§",
    "å°±ä¼šåå™¬ç†æ€§",
    "è®©äººå¤±å»åˆ†å¯¸ã€‚"
  ],
  deletable: false
},
{
  title: "10. å¦å®šçš„æç«¯",
  lines: [
    "æœ‰äº›äººä¸æ˜¯è¿½æ±‚çœŸç†",
    "è€Œæ˜¯æ²‰è¿·äºå¦å®šä¸€åˆ‡",
    "æœ€ç»ˆå¤±å»æ–¹å‘ã€‚"
  ],
  deletable: false
},
{
  title: "æ€»ç»“",
  lines: [
    "å‚²æ…¢è®©äººçœ‹ä¸è§åˆ«äºº",
    "æç«¯è®©äººçœ‹ä¸è§è‡ªå·±ã€‚",
    "",
    "åªæœ‰ä¿æŒæ¸…é†’",
    "æ‰¿è®¤è‡ªå·±çš„å±€é™",
    "æ‰èƒ½åœ¨äººæ€§é™·é˜±é‡Œä¸è¿·å¤±ã€‚"
  ],
  deletable: false
},
{
  title: "ğŸŒ± äººæ€§çš„åšéŸ§ä¸æ™ºæ…§ Â· åé¢˜",
  lines: [
    "é€†å¢ƒçš„åšéŸ§",
    "ä¿¡å¿µçš„åšéŸ§",
    "å­¦ä¹ çš„åšéŸ§",
    "æƒ…æ„Ÿçš„åšéŸ§",
    "è´£ä»»çš„åšéŸ§",
    "å®½å®¹çš„æ™ºæ…§",
    "æ²‰é»˜çš„æ™ºæ…§",
    "ç®€å•çš„æ™ºæ…§",
    "å¹³è¡¡çš„æ™ºæ…§",
    "è‡ªçŸ¥çš„æ™ºæ…§"
  ],
  deletable: false
},
{
  title: "é€†å¢ƒçš„åšéŸ§",
  lines: [
    "çœŸæ­£çš„åšå¼º",
    "ä¸æ˜¯æ²¡æœ‰ç—›è‹¦",
    "è€Œæ˜¯å¸¦ç€ä¼¤å£ç»§ç»­èµ°ã€‚"
  ],
  deletable: false
},
{
  title: "2. ä¿¡å¿µçš„åšéŸ§",
  lines: [
    "ä¿¡å¿µå°±åƒç«ç§",
    "å†å°",
    "ä¹Ÿèƒ½ç‚¹äº®é»‘æš—ä¸­çš„è·¯ã€‚"
  ],
  deletable: false
},
{
  title: "3. å­¦ä¹ çš„åšéŸ§",
  lines: [
    "ä¸æ–­å­¦ä¹ çš„äºº",
    "æ‰ä¸ä¼šè¢«æ—¶é—´æ·˜æ±°",
    "è€Œæ˜¯éšæ—¶æ›´æ–°è‡ªå·±ã€‚"
  ],
  deletable: false
},
{
  title: "4. æƒ…æ„Ÿçš„åšéŸ§",
  lines: [
    "çˆ±ä¸æ˜¯è„†å¼±çš„ä¾èµ–",
    "è€Œæ˜¯é£é›¨ä¸­ä¾æ—§é€‰æ‹©ç‰µæ‰‹ã€‚"
  ],
  deletable: false
},
{
  title: "5. è´£ä»»çš„åšéŸ§",
  lines: [
    "çœŸæ­£çš„æ‹…å½“",
    "ä¸æ˜¯æ–¹ä¾¿æ—¶çš„æ‰¿è¯º",
    "è€Œæ˜¯å›°éš¾æ—¶çš„åšæŒã€‚"
  ],
  deletable: false
},
{
  title: "6. å®½å®¹çš„æ™ºæ…§",
  lines: [
    "æ‡‚å¾—åŸè°…çš„äºº",
    "æ¯”æ‰§ç€ä»‡æ¨çš„äºº",
    "æ›´æ‡‚å¾—çæƒœè‡ªå·±ã€‚"
  ],
  deletable: false
},
{
  title: "7. æ²‰é»˜çš„æ™ºæ…§",
  lines: [
    "æ²‰é»˜ä¸æ˜¯è½¯å¼±",
    "è€Œæ˜¯æ˜ç™½å¹¶éæ‰€æœ‰äº‰è¾©",
    "éƒ½å€¼å¾—è€—è´¹ç²¾åŠ›ã€‚"
  ],
  deletable: false
},
{
  title: "8. ç®€å•çš„æ™ºæ…§",
  lines: [
    "å¤æ‚è®©äººè¿·å¤±",
    "è€Œç®€å•",
    "èƒ½è®©å¿ƒçµä¿æŒæ¸…æ¾ˆã€‚"
  ],
  deletable: false
},
{
  title: "9. å¹³è¡¡çš„æ™ºæ…§",
  lines: [
    "çœŸæ­£çš„æ™ºæ…§",
    "ä¸æ˜¯èµ°æç«¯",
    "è€Œæ˜¯æ‰¾åˆ°å†…å¿ƒçš„å¹³è¡¡ã€‚"
  ],
  deletable: false
},
{
  title: "10. è‡ªçŸ¥çš„æ™ºæ…§",
  lines: [
    "äººæœ€å¤§çš„èªæ˜",
    "ä¸æ˜¯æˆ˜èƒœåˆ«äºº",
    "è€Œæ˜¯çœ‹æ¸…è‡ªå·±ã€‚"
  ],
  deletable: false
},
{
  title: "æ€»ç»“",
  lines: [
    "åšéŸ§è®©äººä¸è¢«å‡»å€’",
    "æ™ºæ…§è®©äººä¸è¢«å›°ä½ã€‚",
    "",
    "åªæœ‰åšéŸ§ä¸æ™ºæ…§å¹¶è¡Œ",
    "äººç”Ÿæ‰èƒ½èµ°å¾—æ›´è¿œã€‚"
  ],
  deletable: false
}
];

  
let books = [];
let currentPage=0, fontSize=1.5, reading=false, lineIndex=0;

const titleEl=document.getElementById("title");
const linesEl=document.getElementById("lines");
const pageNumberEl=document.getElementById("pageNumber");

// æ°¸ä¹…ä¿å­˜
function saveData(){localStorage.setItem("customPages", JSON.stringify(pages));localStorage.setItem("customBooks", JSON.stringify(books));}
function loadData(){
  const savedPages = JSON.parse(localStorage.getItem("customPages"));
  const savedBooks = JSON.parse(localStorage.getItem("customBooks"));
  if(savedPages){ pages = savedPages; }
  if(savedBooks){ books = savedBooks; renderBooks(); }
}
loadData();

// æ¸²æŸ“
function renderPage(){
  titleEl.textContent = pages[currentPage].title;
  linesEl.innerHTML = "";
  pages[currentPage].lines.forEach(line => {
    const div = document.createElement("div");
    div.className = "line";
    div.style.fontSize = fontSize + "em";
    div.innerHTML = line.split("").map(c => `<span>${c}</span>`).join("");
    linesEl.appendChild(div);
  });
  pageNumberEl.textContent = `ç¬¬ ${currentPage+1} é¡µ / å…± ${pages.length} é¡µ`;
}
renderPage();

// ç¿»é¡µå‡½æ•°
function prevPage(){if(currentPage>0){currentPage--; renderPage(); stopReading();}}
function nextPage(){if(currentPage<pages.length-1){currentPage++; renderPage(); stopReading();}}

// æ‰‹æŒ‡/é¼ æ ‡æ»‘åŠ¨åˆ‡æ¢
let startX=0, endX=0;
document.addEventListener("touchstart",e=>{startX=e.touches[0].clientX;});
document.addEventListener("touchend",e=>{
  endX=e.changedTouches[0].clientX;
  if(startX-endX>50){ nextPage(); } // å‘å·¦æ»‘ â†’ ä¸‹ä¸€é¡µ
  else if(endX-startX>50){ prevPage(); } // å‘å³æ»‘ â†’ ä¸Šä¸€é¡µ
});
// é¼ æ ‡æ‹–åŠ¨ä¹Ÿèƒ½ç¿»é¡µ
let mouseDown=false;
document.addEventListener("mousedown",e=>{mouseDown=true; startX=e.clientX;});
document.addEventListener("mouseup",e=>{
  if(!mouseDown)return;
  mouseDown=false;
  endX=e.clientX;
  if(startX-endX>50){ nextPage(); }
  else if(endX-startX>50){ prevPage(); }
});

// ---------- å­—ä½“ ----------
document.getElementById("increase").onclick=()=>{fontSize+=0.2; renderPage();}
document.getElementById("decrease").onclick=()=>{fontSize=Math.max(0.8,fontSize-0.2); renderPage();}

// ---------- æœ—è¯» ----------
let synth = window.speechSynthesis;
let utterance;
function speakLine(){
  if(!reading || lineIndex>=pages[currentPage].lines.length){stopReading();return;}
  const lineDiv = linesEl.children[lineIndex];
  const spans = Array.from(lineDiv.querySelectorAll("span"));
  utterance = new SpeechSynthesisUtterance(pages[currentPage].lines[lineIndex]);
  utterance.lang="zh-CN"; utterance.rate=0.9; utterance.pitch=1;
  utterance.onboundary = (event)=>{
    if(event.charIndex!==undefined){
      spans.forEach(s=>s.style.color="white");
      let idx=Math.min(event.charIndex, spans.length-1);
      spans[idx].style.color="red";
    }
  }
  utterance.onend = ()=>{spans.forEach(s=>s.style.color="white"); lineIndex++; speakLine();}
  synth.speak(utterance);
}
function stopReading(){
  reading=false; synth.cancel();
  document.getElementById("stopBtn").classList.remove("paused");
  Array.from(document.querySelectorAll(".line span")).forEach(s=>s.style.color="white");
}
document.getElementById("playBtn").onclick=()=>{if(!reading){reading=true; lineIndex=0; speakLine();}};
document.getElementById("stopBtn").onclick=()=>{if(reading){synth.cancel();reading=false;document.getElementById("stopBtn").classList.add("paused");}else{reading=true;speakLine();document.getElementById("stopBtn").classList.remove("paused");}}

// ---------- æ·»åŠ é¡µé¢/ä¹¦ç± ----------
const formOverlay=document.getElementById("formOverlay");
const input1=document.getElementById("formInput1");
const input2=document.getElementById("formInput2");
const input3=document.getElementById("formInput3");
const textarea=document.getElementById("formTextarea");
const submitBtn=document.getElementById("formSubmit");
const cancelBtn=document.getElementById("formCancel");
const formTitle=document.getElementById("formTitle");
const bookList=document.getElementById("bookList");
let currentForm="";
function showForm(type){
  currentForm=type;
  formOverlay.style.display="flex";
  textarea.style.display="none"; input1.style.display="none"; input2.style.display="none"; input3.style.display="none";
  if(type==="page"){formTitle.textContent="æ·»åŠ é¡µé¢";input1.style.display="block";input1.placeholder="é¡µé¢æ ‡é¢˜";textarea.style.display="block";textarea.placeholder="é¡µé¢å†…å®¹ï¼Œæ¯è¡Œæˆ–ç”¨é€—å·åˆ†éš”";}
  else if(type==="book"){formTitle.textContent="æ·»åŠ ä¹¦ç±";input1.style.display="block";input1.placeholder="ä¹¦ç±æ ‡é¢˜";input2.style.display="block";input2.placeholder="ä¹¦ç±é“¾æ¥";input3.style.display="block";input3.placeholder="å°é¢URL";}
  else if(type==="viewBook"){alert("ä¹¦ç±åˆ—è¡¨ï¼š\n"+books.map(b=>b.title).join("\n"));formOverlay.style.display="none";}
}
cancelBtn.onclick=()=>{formOverlay.style.display="none";}
submitBtn.onclick=()=>{
  if(currentForm==="page"){const title=input1.value.trim();const linesArr=textarea.value.split(/\n|,/).map(s=>s.trim()).filter(s=>s);if(title&&linesArr.length>0){pages.push({title,lines:linesArr,deletable:true});currentPage=pages.length-1;saveData();renderPage();alert("é¡µé¢å·²æ·»åŠ ï¼");}}
  else if(currentForm==="book"){const title=input1.value.trim();const url=input2.value.trim();const img=input3.value.trim();if(title&&url&&img){books.push({title,url,img});saveData();renderBooks();alert("ä¹¦ç±å·²æ·»åŠ ï¼");}}
  formOverlay.style.display="none"; input1.value=""; input2.value=""; input3.value=""; textarea.value="";
}
function renderBooks(){bookList.innerHTML="";books.forEach(b=>{const img=document.createElement("img");img.src=b.img;img.title=b.title;img.className="bookIcon";img.onclick=()=>{window.open(b.url,"_blank");};bookList.appendChild(img);});}
document.getElementById("addPage").onclick=()=>{showForm("page");}
document.getElementById("addBook").onclick=()=>{showForm("book");}
document.getElementById("viewBook").onclick=()=>{showForm("viewBook");}

// ---------- èƒŒæ™¯åˆ‡æ¢ ----------
let bgIndex=0;
const backgrounds=[
  'https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExYzdwYXd1dGcxbHloc3UwYjM3a2lpdnVhbHA5bnJrNWVpenc5dmltMiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/FUESbiqyQcJBcwFefb/giphy.gif',
  'black', 'linear-gradient(to bottom,#001, #000)'
];
document.getElementById("changeBg").onclick=()=>{
  bgIndex=(bgIndex+1)%backgrounds.length;
  document.body.style.background=backgrounds[bgIndex];
  if(bgIndex===1){initStars();}else{clearStars();}
  if(bgIndex===2){initSnow();}else{clearSnow();}
}

// æ˜Ÿæ˜Ÿ
const starCanvas=document.getElementById("stars");const starCtx=starCanvas.getContext("2d");let starsArray=[];
function initStars(){starCanvas.width=window.innerWidth;starCanvas.height=window.innerHeight;starsArray=[];for(let i=0;i<150;i++){starsArray.push({x:Math.random()*starCanvas.width,y:Math.random()*starCanvas.height,r:Math.random()*2+1,opacity:Math.random()});}requestAnimationFrame(drawStars);}
function drawStars(){starCtx.clearRect(0,0,starCanvas.width,starCanvas.height);starsArray.forEach(s=>{starCtx.beginPath();starCtx.arc(s.x,s.y,s.r,0,2*Math.PI);starCtx.fillStyle=`rgba(255,255,255,${s.opacity})`;starCtx.fill();s.opacity+=(Math.random()-0.5)*0.05;if(s.opacity>1)s.opacity=1;if(s.opacity<0)s.opacity=0;});if(bgIndex===1)requestAnimationFrame(drawStars);}
function clearStars(){starCtx.clearRect(0,0,starCanvas.width,starCanvas.height);}

// é›ª
const snowCanvas=document.getElementById("snow");const snowCtx=snowCanvas.getContext("2d");let snowArray=[];
function initSnow(){snowCanvas.width=window.innerWidth;snowCanvas.height=window.innerHeight;snowArray=[];for(let i=0;i<200;i++){snowArray.push({x:Math.random()*snowCanvas.width,y:Math.random()*snowCanvas.height,r:Math.random()*3+1,speed:Math.random()*1+0.5});}requestAnimationFrame(drawSnow);}
function drawSnow(){snowCtx.clearRect(0,0,snowCanvas.width,snowCanvas.height);snowArray.forEach(s=>{snowCtx.beginPath();snowCtx.arc(s.x,s.y,s.r,0,Math.PI*2);snowCtx.fillStyle="white";snowCtx.fill();s.y+=s.speed;if(s.y>snowCanvas.height)s.y=0;});if(bgIndex===2)requestAnimationFrame(drawSnow);}
function clearSnow(){snowCtx.clearRect(0,0,snowCanvas.width,snowCanvas.height);}

window.onresize=()=>{if(bgIndex===1)initStars();if(bgIndex===2)initSnow();}
</script>
<script>
document.getElementById('logout-btn').onclick = function() {
    window.location.href = "index.html";
};
</script>
</body>
</html>

